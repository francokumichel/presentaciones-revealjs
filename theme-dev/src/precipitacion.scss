/**
 * Tema personalizado para presentación sobre precipitaciones extremas
 * Investigación: VARIACIÓN TEMPORAL DE ÍNDICES DE PRECIPITACIÓN EXTREMA EN LA CIUDAD DE LA PLATA
 */

// 1. Include mixins
@import "../node_modules/reveal.js/css/theme/template/mixins.scss";


// 2. Include settings (default variables)
@import "../node_modules/reveal.js/css/theme/template/settings.scss";

// 3. Override default variables y definir tema personalizado
// -----------------------------------------------------------------------------

// Colores principales inspirados en agua, clima y análisis científico
$backgroundColor: #0a1628;  // Azul oscuro profundo (cielo nocturno antes de tormenta)
$mainColor: #e8f4f8;        // Azul muy claro para texto principal
$headingColor: #5eb3d6;     // Azul agua para títulos

// Colores de acento
$accentColor: #4a9eff;      // Azul brillante (lluvia, agua)
$secondaryAccent: #7dd3fc;  // Celeste claro (gotas de agua)
$tertiaryAccent: #1e3a5f;   // Azul grisáceo (nubes de tormenta)
$highlightColor: #60a5fa;   // Azul medio para resaltados

// Tipografía
$mainFont: 'Inter', 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
$headingFont: 'Montserrat', 'Inter', 'Segoe UI', sans-serif;
$codeFont: 'Fira Code', 'Courier New', monospace;

// Tamaños de fuente
$mainFontSize: 28px;
$heading1Size: 2.0em;
$heading2Size: 1.8em;
$heading3Size: 1.4em;
$heading4Size: 1.2em;

// Estilos de texto
$headingTextTransform: none;
$headingFontWeight: 600;
$linkColor: $accentColor;
$linkColorHover: lighten($linkColor, 15%);
$selectionBackgroundColor: rgba($accentColor, 0.7);

// Fondo y diseño
$backgroundImage: linear-gradient(135deg, #0a1628 0%, #1a2942 50%, #0f2744 100%);

// Colores de elementos
$blockQuoteBorderColor: $accentColor;
$codeBackground: rgba($tertiaryAccent, 0.6);
$codeColor: $secondaryAccent;

// 4. Include template theme (generará el CSS final)
@import "../node_modules/reveal.js/css/theme/template/theme.scss";

// -----------------------------------------------------------------------------
// Estilos personalizados adicionales
// -----------------------------------------------------------------------------

.reveal {
  // Fondo con gradiente
  background: $backgroundImage;
  
  // Efecto sutil de textura (opcional, simula gotas)
  &::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-image: 
      radial-gradient(circle at 20% 80%, rgba($accentColor, 0.03) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba($secondaryAccent, 0.03) 0%, transparent 50%);
    pointer-events: none;
  }
}

// Estilo de títulos principales
.reveal h1 {
  text-shadow: 0 0 20px rgba($accentColor, 0.3);
  border-bottom: 3px solid $accentColor;
  padding-bottom: 0.3em;
  margin-bottom: 0.5em;
}

// Estilo de títulos secundarios
.reveal h2 {
  color: $headingColor;
}

.reveal h1.dark,
.reveal h2.dark,
.reveal h3.dark,
.reveal h4.dark,
.reveal h5.dark {
  color: $backgroundColor;
}

// Enlaces
.reveal a {
  transition: all 0.3s ease;
  
  &:hover {
    text-shadow: 0 0 10px rgba($linkColor, 0.5);
  }
}

// Listas
.reveal ul, .reveal ol {
  li {
    margin-bottom: 0.5em;
  }
}

// Código
.reveal pre {
  box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
  border-left: 4px solid $accentColor;
}

// Énfasis y resaltados
.reveal strong, .reveal b {
  color: $secondaryAccent;
  font-weight: 700;
}

.reveal em {
  color: $highlightColor;
}

// Tablas
.reveal table {
  border-collapse: collapse;
  
  th {
    background-color: rgba($accentColor, 0.2);
    border-bottom: 2px solid $accentColor;
  }
  
  td {
    border-bottom: 1px solid rgba($mainColor, 0.1);
  }
}

// Tablas pequeñas
.reveal table.table-small {
  font-size: 0.65em;
  
  th {
    background-color: rgba($accentColor, 0.2);
    border-bottom: 2px solid $accentColor;
    padding: 0.4em 0.6em;
    font-weight: 600;
  }
  
  td {
    border-bottom: 1px solid rgba($mainColor, 0.1);
    padding: 0.3em 0.5em;
  }
  
  // Filas alternadas para mejor lectura
  tbody tr:nth-child(even) {
    background-color: rgba($tertiaryAccent, 0.3);
  }
  
  // Hover en filas
  tbody tr:hover {
    background-color: rgba($accentColor, 0.15);
    transition: background-color 0.2s ease;
  }
}

.reveal table.table-glass {
  backdrop-filter: blur(1px);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba($accentColor, 0.3);
  
  th {
    background-color: rgba($backgroundColor, 0.8);
    border-bottom: 2px solid rgba($backgroundColor, 0.4);
    font-weight: 600;
    text-shadow: 0 1px 4px rgba(0, 0, 0, 0.7);
  }
  
  td {
    background-color: rgba($backgroundColor, 0.5);
    border-bottom: 1px solid rgba($mainColor, 0.12);
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
    font-weight: 500;
  }
  
  tbody tr:nth-child(even) td {
    background-color: rgba($tertiaryAccent, 0.35);
  }
  
  tbody tr:hover td {
    background-color: rgba($accentColor, 0.2);
    transition: background-color 0.2s ease;
  }
}

.reveal tr.fragment.highlight-row {
  td {
    transition: all 0.3s ease;
  }
}

.reveal tr.fragment.highlight-row.visible td,
.reveal table tbody tr.fragment.highlight-row.visible td,
.reveal table.table-glass tbody tr.fragment.highlight-row.visible td,
.reveal table.table-glass tbody tr.fragment.highlight-row.visible:nth-child(even) td,
.reveal table.table-glass tbody tr.fragment.highlight-row.visible:nth-child(odd) td {
  background-color: rgba($accentColor, 0.5) !important;
  color: #ffffff !important;
  font-weight: 600;
  //border-bottom: 1px solid rgba($accentColor, 0.8) !important;
}

.reveal tr.fragment.highlight-decrease.visible td,
.reveal table tbody tr.fragment.highlight-decrease.visible td,
.reveal table.table-glass tbody tr.fragment.highlight-decrease.visible td,
.reveal table.table-glass tbody tr.fragment.highlight-decrease.visible:nth-child(even) td,
.reveal table.table-glass tbody tr.fragment.highlight-decrease.visible:nth-child(odd) td {
  background-color: rgba(239, 68, 68, 0.5) !important;
  color: #ffffff !important;
  font-weight: 600;
}

.reveal .text-box-glass {
  background-color: rgba($backgroundColor, 0.4);
  backdrop-filter: blur(1px);
  border-radius: 8px;
  padding: 1em 1.5em;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  border: 1px solid rgba($accentColor, 0.3);
  
  p {
    margin: 0;
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
  }
}

/*
.reveal tr.fragment.highlight-row.visible {
  td {
    background-color: rgba($backgroundColor, 0.8) !important;
    font-weight: 600;
    transform: scale(1.02);
    border-bottom: 1px solid rgba($accentColor, 0.8) !important;
  }
}

.reveal table.table-glass tbody tr.fragment.highlight-row.visible:nth-child(even) td {
  background-color: rgba($accentColor, 0.6) !important;
}
*/
// Controles de navegación
.reveal .controls {
  color: $accentColor;
}

// Barra de progreso
.reveal .progress {
  background: rgba($tertiaryAccent, 0.5);
  
  span {
    background: $accentColor;
    box-shadow: 0 0 10px rgba($accentColor, 0.8);
  }
}

.rain {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
  overflow: hidden;
}

.rain__drop {
  animation-delay: calc(var(--d) * 1s);
  animation-duration: calc(var(--a) * 1s);
  animation-iteration-count: infinite;
  animation-name: drop;
  animation-timing-function: linear;
  height: 30px;
  left: calc(var(--x) * 1%);
  position: absolute;
  top: calc((var(--y) + 50) * -1px);
  
  path {
    fill: rgba($secondaryAccent, 0.6);
    opacity: var(--o);
    transform: scaleY(calc(var(--s) * 1.5));
  }
}

@keyframes drop {
  90% {
    opacity: 1;
  }
  100% {
    opacity: 0;
    transform: translateY(100vh);
  }
}

.reveal .two-columns {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 2em;
  align-items: start;
  
  .column {
    p, table {
      font-size: 0.7em;
    }
  }
}

// Variante con columnas asimétricas (40-60)
.reveal .two-columns-asymmetric {
  display: grid;
  grid-template-columns: 2fr 3fr;
  gap: 2em;
  align-items: start;
}

// Variante con columnas asimétricas (60-40)
.reveal .two-columns-asymmetric-reverse {
  display: grid;
  grid-template-columns: 3fr 2fr;
  gap: 2em;
  align-items: start;

  .column {
    p, table {
      font-size: 0.7em;
    }
  }
}

// Ajustes para tablas dentro de columnas
.reveal .two-columns table,
.reveal .two-columns-asymmetric table,
.reveal .two-columns-asymmetric-reverse table {
  font-size: 0.7em;
  width: 100%;
  
  th, td {
    padding: 0.3em 0.4em;
  }
}

// Responsive: en pantallas pequeñas volver a una columna
@media (max-width: 768px) {
  .reveal .two-columns,
  .reveal .two-columns-asymmetric,
  .reveal .two-columns-asymmetric-reverse {
    grid-template-columns: 1fr;
    gap: 1em;
  }
}


